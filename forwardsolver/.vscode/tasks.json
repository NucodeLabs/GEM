{
  "tasks": [
    {
      "type": "shell",
      "label": "forwardsolver (JNI-ready)",
      "dependsOn": "ves",
      "group": "build",
      "detail": "forwardsolver.dll / libforwardsolver.dylib / libforwardsolver.so",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "windows": {
        "command": "cl.exe",
        "args": [
          "/O2",
          "/MD",
          "/LD",
          "${workspaceFolder}\\src\\main\\c\\forwardsolver.c",
          "/I\"${config:java.home}\\include\"",
          "/I\"${config:java.home}\\include\\win32\"",
          "/Fe\"${workspaceFolder}\\src\\main\\lib\\forwardsolver.dll\""
        ],
        "problemMatcher": [
          "$msCompile"
        ]
      },
      "osx": {
        "command": "/usr/bin/clang",
        "args": [
          "-O3",
          "-arch",
          "x86_64",
          "-x",
          "c",
          "-fPIC",
          "-dynamiclib",
          "${workspaceFolder}/src/main/c/forwardsolver.c",
          "-I",
          "${config:java.home}/include",
          "-I",
          "${config:java.home}/include/darwin",
          "-rpath",
          "@loader_path",
          "-o",
          "${workspaceFolder}/src/main/lib/libforwardsolver.dylib"
        ],
        "problemMatcher": [
          "$gcc"
        ]
      },
      "linux": {
        "command": "/usr/bin/gcc",
        "args": [
          "-O3",
          "-x",
          "c",
          "-fPIC",
          "-shared",
          "${workspaceFolder}/src/main/c/forwardsolver.c",
          "-I",
          "${config:java.home}/include",
          "-I",
          "${config:java.home}/include/linux",
          "-ldl",
          "-Wl,-rpath=forwardsolver/src/main/lib",
          "-o",
          "${workspaceFolder}/src/main/lib/libforwardsolver.so"
        ],
        "problemMatcher": [
          "$gcc"
        ]
      }
    },
    {
      "type": "shell",
      "label": "ves",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "detail": "ves.dll / libves.dylib / libves.so",
      "windows": {
        "command": "cl.exe",
        "args": [
          "/O2",
          "/MD",
          "/LD",
          "${workspaceFolder}\\orig\\src\\VESER.c",
          "/Fe\"${workspaceFolder}\\src\\main\\lib\\ves.dll\""
        ],
        "problemMatcher": [
          "$msCompile"
        ]
      },
      "osx": {
        "command": "/usr/bin/clang",
        "args": [
          "${workspaceFolder}/orig/src/VESER.c",
          "-O3",
          "-x",
          "c",
          "-arch",
          "x86_64",
          "-fPIC",
          "-dynamiclib",
          "-fvisibility=default",
          "-install_name",
          "libves.dylib",
          "-o",
          "${workspaceFolder}/src/main/lib/libves.dylib"
        ],
        "problemMatcher": [
          "$gcc"
        ]
      },
      "linux": {
        "command": "/usr/bin/gcc",
        "args": [
          "${workspaceFolder}/orig/src/VESER.c",
          "-O3",
          "-x",
          "c",
          "-fPIC",
          "-shared",
          "-fvisibility=default",
          "-o",
          "${workspaceFolder}/src/main/lib/libves.so"
        ],
        "problemMatcher": [
          "$gcc"
        ]
      }
    }
  ],
  "version": "2.0.0"
}